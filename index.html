
<html>
	<head>
		<meta charset="utf-8" />
		<title> Labyrint</title>
		<link rel="stylesheet" type="text/css" href="style.css">
	</head>

	
	
	<body>
		
			<header>
				<link href='http://fonts.googleapis.com/css?family=Lobster' rel='stylesheet' type='text/css'>
				<h1 id="title">Labyrint</h1>
			</header>

			

			<script>

				window.navigator = window.navigator || {};

	     		navigator.getUserMedia = navigator.getUserMedia       ||
	                               navigator.webkitGetUserMedia ||
	                               navigator.mozGetUserMedia    ||
	                               null;


				var context = new (window.AudioContext || window.webkitAudioContext)();
				
				var analyser = context.createAnalyser();
				var bufferLength = analyser.frequencyBinCount; // half the FFT value
   				var dataArray = new Uint8Array(bufferLength); // create an array to store the data
				
				navigator.getUserMedia({audio: true}, function(stream) {
					
					var source = context.createMediaStreamSource(stream);
					source.connect(analyser);

					update();

				}, errorCallback);

				function errorCallback() {
	    			
	    			alert('something went wrong');
				}


				function update() {

					// Schedule the next update
					requestAnimationFrame(update);

					analyser.getByteTimeDomainData(dataArray);
					
					title.style.fontSize = dataArray[33] + 'px';
					
				};

			</script>

	</body>
</html>